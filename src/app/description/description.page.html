<!-- description.page.html -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-button class="close" slot="start" (click)="fermerPage()">
      <ion-icon name="close"></ion-icon>
    </ion-button>
    <ion-button slot="end" class="questions">Des questions ?</ion-button>
    <ion-title class="title"></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-text class="T-desc">
    Vous y êtes presque !
  </ion-text>

  <ion-text class="T-desc">
    Maintenant, rédigez une description et ajoutez des photos de votre parking.
  </ion-text>

  <ion-text class="description">
    Soyez complets, donnez des détails utiles aux utilisateurs qui liront votre annonce
  </ion-text>

  <div class="desc">
  <ion-input
    id="custom-input"
    label="Votre description"
    labelPlacement="floating"
    [counter]="true"
    maxlength="1000"
    [counterFormatter]="customCounterFormatter"
    [(ngModel)]="description"
    (ionChange)="modifierDescription()"
  ></ion-input>
  </div>  

  <ion-button class="enregistrer"(click)="enregistrerDescription()">Enregistrer</ion-button>

  <!-- Carte pour afficher la description -->
  <ion-card *ngIf="isDescriptionSaved">
    <ion-card-header>
      Description
    </ion-card-header>
    <ion-card-content>
      {{ description }}
    </ion-card-content>
  </ion-card>

  <!-- Message "Description enregistrée" -->
  <ion-label *ngIf="isDescriptionSaved" class="description-saved">Description enregistrée</ion-label>

  <ion-text class="T-desc">
    Ajouter des photos.
  </ion-text>

  <div class="upload-button">
    <input type="file" #fileInput (change)="handleFileInput($event)" accept="image/*" multiple hidden />
    <ion-icon name="add-circle" (click)="fileInput.click()"></ion-icon>
  </div>
  
  <ion-row>
    <ion-col *ngFor="let photo of photos">
      <img [src]="photo" alt="Uploaded Photo" class="uploaded-photo" />
    </ion-col>
  </ion-row>
  
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-title></ion-title>
    <ion-back-button slot="start" defaultHref="/nbplaces">Retour</ion-back-button>
    <ion-button slot="end" (click)="redirigerVersRecap()">Suivant <ion-icon name="arrow-forward"></ion-icon></ion-button>
  </ion-toolbar>
</ion-footer>
